<%- model_class = Recipe -%>
<div class="page-header">
  <h1><%=t '.title', :default => model_class.model_name.human.titleize %></h1>
</div>

<dl class="dl-horizontal">
  <dt><strong><%= model_class.human_attribute_name(:title) %>:</strong></dt>
  <dd><%= @recipe.title %></dd>
  <dt><strong><%= model_class.human_attribute_name(:description) %>:</strong></dt>
  <dd><%= @recipe.description %></dd>
  <dt><strong><%= model_class.human_attribute_name(:instructions) %>:</strong></dt>
  <dd><%= @recipe.instructions %></dd>
  <dt><strong><%= model_class.human_attribute_name(:cost) %>:</strong></dt>
  <dd><%= number_to_currency(@recipe.cost) %></dd>
</dl>
    <h3>Ingredient Cost Summary</h3>
    <table class = "table table-condensed">
      <thead>
        <tr>
          <td><strong>Ingredients</strong></td>
          <td><strong>Unit</strong></strong></td>
          <td><strong>Quantity</strong></td>
          <td><strong>Cost to buy ingredients</strong></td>
        </tr>
      </thead>
      <tbody>
        <% @recipe.recipe_ingredients.each do |recipe_ingredient| %>
        <tr>
          <td><%= recipe_ingredient.ingredient_name %></td>
          <td><%= recipe_ingredient.ingredient_unit %></td>
          <td><%= recipe_ingredient.quantity %></td>
          <td><%= number_to_currency(recipe_ingredient.ingredient_price.to_f * recipe_ingredient.quantity.to_f) %></td>
        </tr>
        <% end %>
        <tr>
          <td colspan="3" align="right"><strong>Total cost</strong></td>
          <td colspan="1"><%= number_to_currency(@recipe.cost) %> </td>
        </tr>
      </tbody>
    </table>


<%= link_to t('.back', :default => t("helpers.links.back")),
              recipes_path, :class => 'btn btn-default'  %>
<%= link_to t('.edit', :default => t("helpers.links.edit")),
              edit_recipe_path(@recipe), :class => 'btn btn-default' %>
<%= link_to t('.destroy', :default => t("helpers.links.destroy")),
              recipe_path(@recipe),
              :method => 'delete',
              :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
              :class => 'btn btn-danger' %>
